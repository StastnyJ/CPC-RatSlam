#!/usr/bin/python3

import plotly.express as px
import itertools
from math import sqrt
analFolder = "/home/stastnyj/Dev/ros/CPC-RatSlam/src/colored_point_cloud_rat_slam_ros/anal/"

rawData = []

xxx = """0.7265134449617372 P
0.7213239689601313 P
0.7061683236405042 P
0.72701131329085 P
0.7263113375681554 P
0.72229486423691 P
0.6225473803970182 P
0.5343035968413468 P
0.5444756329505084 P
0.5409880354689344 P
0.5332904016990289 P
0.51784768862258 P
0.4276446897208817 N
0.344318105005123 N
0.2761097358751942 P
0.33103633822068906 P
0.4314434189973527 P
0.5584605114856521 P
0.23732743359746064 P
0.5520222476285284 P
0.4099469152705084 P
0.6421879056331993 P
0.547866087055033 P
0.460849347882445 N
0.5630622873605622 P
0.5184391234617414 P
0.4256828211302014 N
0.6145251846067353 P
0.4335582694485694 P
0.554237119098987 P
0.3418363865599783 P
0.568355365034182 P
0.6267663770310912 P
0.6327726631231056 P
0.6873547784048485 P
0.5708848837634459 P
0.364842119836365 P
0.44510741883125593 P
0.5117448801991856 P
0.4275569986584098 P
0.4165228605381373 P
0.34724815528171343 P
0.38652723847137666 P
0.5123749224466921 P
0.5457359705334526 P
0.5326687912438375 P
0.4527933872534926 N
0.5892341269338818 P
0.5559817721196033 P
0.5189519534715278 P
0.49306275518678494 N
0.6431693042168787 P
0.5014499353324902 P
0.5513502880049058 P
0.46008999808534423 P
0.5106550283655876 P
0.5855747161215097 P
0.6084246730752377 P
0.5681414336926348 P
0.5255631304211584 P
0.522886015136929 P
0.49576593039898786 N
0.6930214375286524 P
0.6210037569379433 P
0.5979721205490032 P
0.6041264412589031 P
0.4093278584903751 N
0.5122238528911592 P
0.6641743018446153 P
0.5678789315366353 P
0.532518342823819 P
0.5421501193468047 P
0.5286402290419053 P
0.440679941399527 N
0.5262254400480637 P
0.4341015682424468 N
0.5832698572569593 P
0.45812688302612775 P
0.5502487456313654 P
0.5641593541240345 P
0.42031865048031475 N
0.5642469447321896 P
0.5807357617508659 P
0.4212207409764454 N
0.5070583181049267 P
0.635267752573425 P
0.6109782338335902 P
0.5849607357171149 P
0.6030475677643878 P
0.5991665728596934 P
0.5973556694281992 P
0.592776109740475 P
0.6041948688510372 P
0.5828098241434463 P
0.4691780874059685 N
0.3518153686391564 P
0.3718368129712838 N
0.45431037214725734 N
0.2986790758251037 P
0.3948441583674669 P
0.4975810305329124 P
0.47621598017933636 P
0.5301000080075401 P
0.44700516270299 P
0.520914451141842 P
0.4829478599624849 P
0.6524682602473348 P
0.6006907104477976 P
0.5272017536213324 P
0.5242014156485846 P
0.4628816979202766 N
0.5173429964740189 P
0.49417431351275437 P
0.6052018301415797 P
0.49591473830105665 P
0.45522937085537285 P
0.508583317686807 P
0.5292867787003744 P
0.4198576624863672 N
0.5718723323052252 P
0.4783830370276045 P
0.6063480206361039 P
0.5464596047697426 P
0.523122581752426 P
0.4383509050434114 N
0.6496845222237488 P
0.5465989744610196 P
0.6227945039976102 P
0.3945203385026109 P
0.3052488919845753 P
0.6833622937724437 P
0.6827197424907943 P
0.6814715083640456 P
0.5811857717328833 P
0.4502616665083619 P
0.5805179528773082 P
0.5004662656598837 P
0.3548595513805496 P
0.4639418104075384 P
0.4323592496075592 P
0.5586931536749778 P
0.5314167672283504 P
0.5326539140915383 P
0.2858530104815725 N
0.42470529440097066 P
0.43333954233046645 P
0.43445099552599337 P
0.4006205451287675 P
0.4444102729599119 P
0.40571077840152564 P
0.3791148850015935 P
0.4879671893461869 P
0.4674307460885047 P
0.5368975698453506 P
0.5470817085146488 P
0.4116825663282224 N
0.4986218344003418 P
0.3257719834256715 P
0.6098651395102577 P
0.5316712331361866 P
0.5322567604962182 P
0.4400891150487433 N
0.6141549877901226 P
0.3222542218620037 P
0.4391945905111764 P
0.3878690948457382 P
0.30497655108185084 P
0.5893560287635071 P
0.5691874496076581 P
0.5353890747263337 P
0.5103134741896931 N
0.3530181180550881 P
0.5944509302421808 P
0.5362409043485871 P
0.40394417220704126 N
0.5598090569710635 P
0.40041727037250896 P
0.41976114884898197 P
0.43795464804836165 P
0.4024203250023979 P
0.3857939918292189 P
0.402720012946852 P
0.4549503611138283 P
0.6606822639514481 P
0.6319151926751285 P
0.6112262182833821 P
0.6038495605363444 P
0.5964716191237822 P
0.5899693475956339 P
0.5865643168696607 P
0.578984600581319 P
0.5715864643515833 P
0.35568547794978417 P
0.41237858028274904 P
0.5130270196550467 P
0.4302550244287576 P
0.6360039802508993 P
0.5426691126181616 P
0.3941836635576214 N
0.2696514652253886 P
0.2684453762893362 P
0.29165657679639023 P
0.6005041611772027 P
0.30842981715480067 P
0.6452805852372689 P
0.31318791130519247 P
0.4547032022489962 P
0.6608304572730128 P
0.5893174946505382 P
0.5396289033143923 P
0.4801092034070081 P
0.6017024339924952 P
0.5602511259369072 P
0.49854620100040686 P
0.5995909404428743 P
0.4879676897506455 P
0.6228930188439884 P
0.636310681066846 P
0.4827883820901448 P
0.5448626692466955 P
0.4960918926765302 P
0.2815992371883455 P
0.2761851615117686 P
0.2935772373613272 N
0.4123779001015863 P
0.40176944450482105 P
0.4652438413505744 P
0.6226213614496936 P
0.5431972568005454 P
0.49848855952253024 N
0.5245051163618706 P
0.574678029561517 P
0.43906753458724934 N
0.5871403325223877 P
0.6005147175937761 P
0.47700296547093884 N
0.6151490342748871 P
0.6572590776386898 P
0.6398303094917618 P
0.5547454015926069 P
0.49460291174383564 N
0.4001617071757847 P
0.47208605336752035 P
0.5861256296644274 P
0.5529629298101082 P
0.5898418506806684 P
0.4290876076930427 P
0.5524681632873348 P
0.6086095312211672 P
0.654271623026726 P
0.6068444754597261 P
0.5861783935126146 P
0.6195522995540108 P
0.6745137364605308 P
0.6211596934676757 P
0.4921614964646107 P
0.6743019047569593 P
0.6104974995623192 P
0.5788383295090851 P
0.5087509537709679 P
0.5376954064539771 P
0.4901213828222698 P
0.5649380645235508 P
0.6558951772003968 P
0.4665275104234605 P
0.43185942398447175 P
0.45293688599667853 P
0.6439449540687618 P
0.406670153453995 P
0.5599869514477478 P
0.6008266721217453 P
0.551113249490948 P
0.517666125044216 P
0.532925532543831 P
0.5007714558169771 P
0.6514319176254528 P
0.6198722796384641 P
0.573073460670148 P
0.5691403042872257 P
0.5918338639231647 P
0.6554273001081745 P
0.5643446618882108 P
0.617870478776601 P
0.5143274891284353 N
0.600900489660825 P
0.5499221775822111 N
0.6725520879934881 P
0.5574037436042736 P
0.5528982562420499 P
0.6697046776068868 P
0.6847887799856087 P
0.618645244803639 P
0.6045266636114062 P
0.5756818032661352 P
0.6153322559013462 P
0.5140367281532504 P
0.49285196351565935 P
0.48536785518093534 P
0.572495573176303 P
0.564711889926455 P
0.632330134639293 P
0.592375437412881 P
0.5006386678907618 P
0.576591412364569 P
0.5431650913015121 P
0.5841028020846305 P
0.6424629520362513 P
0.6037832051583607 P
0.5971475726191312 P
0.6521098065157277 P
0.5744551367869107 P
0.5406564232446293 P
0.44108017651459747 P
0.6050669178982973 P
0.5769618401839565 P
0.5198793394416559 P
0.557904764437544 P
0.5955024324686665 P
0.5701098519356921 P
0.5679390684648207 P
0.6351713544961789 P
0.6753542624167806 P
0.6239178989819043 P
0.5053635485613375 P
0.5653775685306597 P
0.5465615862931257 P
0.5725600130368225 P
0.5470131761430057 P
0.5865243077715232 P
0.4953947090454306 P
0.4827419700512034 P
0.5986832566718263 P
0.5175559796760312 P
0.5149072097347479 P
0.507099954289777 P
0.6102788488823436 P
0.5652928701481251 P
0.5555370886770251 P
0.6679810711568733 P
0.6226428477420052 P
0.6008633551141894 P
0.5974036273291452 P
0.5888190523375991 P
0.5800285408990827 P
0.6176141697712565 P
0.5686158974313771 P
0.5445675103088615 P
0.6042889160005297 P
0.5656764169976901 P
0.6395059308517939 P
0.5752524348582433 P
0.6231683570709982 P
0.513182079188872 P
0.562535973554396 P
0.6150556618815863 P
0.47673575717530947 P
0.5013641233707817 P
0.7100147601027712 P
0.6777228993132255 P
0.6815528878404428 P
0.6199146370847919 P
0.29333405721625 P
0.33334966990957804 P
0.5819360438171213 P
0.4410842851332968 P
0.6507651394743507 P
0.564404354224262 P
0.506880017349461 P
0.6549621592537541 P
0.6105970582654785 P
0.5829451004090102 P
0.5091907290242259 P
0.42925557060846653 P
0.657343083965785 P
0.5113061590310988 P
0.4668978422251883 P
0.576394271091449 P
0.46475202767958596 P
0.5674466710762657 P
0.5623375545487896 P
0.5793102090398083 P
0.5232002535149317 P
0.4257767179627121 P
0.4497977195044971 P
0.4328447776311326 P
0.41337610314818113 P
0.47080549267394617 P
0.4223260578156807 P
0.5277498377427446 P
0.45989036292313223 P
0.4462441009962708 P
0.4701510298132403 P
0.5628967741220235 P
0.4710044265591337 P
0.5280426594494096 P
0.5119948536354076 P
0.5193561252579106 P
0.5287286403261594 P
0.5003349016953337 N
0.4768989641581837 P
0.5099800874862787 P
0.48087520308327364 P
0.6117421880597548 P
0.5476379686961357 P
0.5439811665981459 P
0.5316334519539553 P
0.5404919159974636 P
0.46295532117732546 N
0.608609808588648 P
0.5364623541820424 P
0.39997075996891 N
0.45286734057937045 P
0.6176308095376484 P
0.6088478232088835 P
0.5151836290946656 P
0.41604893486477457 N
0.5053209057311526 P
0.33310927491864434 P
0.6019432640213804 P
0.3849362354780352 P
0.4297488133620917 P
0.41086629520436496 P
0.5020660280420878 P
0.46126632936026135 P
0.4213062188353562 P
0.4447999556200559 P
0.38328474781744554 P
0.28610369866248075 P
0.312674812438755 P
0.5339349750389453 P
0.36718432460573264 P
0.5126007189914166 P
0.4364881148639564 P
0.5524674376473021 P
0.3799669831154449 P
0.5239669548369599 P
0.5846795573978525 P
0.3274937617085816 P
0.6393604848122992 P
0.6100402019902764 P
0.5798340148164915 P
0.42978314120832234 P
0.5769178042493919 P
0.4641432916262348 P
0.5619777550666477 P
0.5635870252161489 P
0.37020427993087107 P
0.30880073282481807 P
0.39483305026732957 N
0.34799295990051166 P
0.42796510045805003 P
0.45597831453335624 P
0.5229653342877209 P
0.509686614681985 P
0.5630297336475997 P
0.4228762255470853 P
0.507888011275198 P
0.5248885220175427 P
0.5269345791303028 N
0.40776060098237266 N
0.5441297095443959 P
0.3934691094112567 P
0.6816704523108147 P
0.5737828545464476 P
0.4479309922203771 P
0.7062239274432934 P
0.6724619375461349 P
0.5426716017597909 P
0.6023789760382149 P
0.5764329063077404 P
0.5736322709114438 P
0.4269532638441277 P
0.5415596046075472 P
0.5534782867703072 P
0.5786376225552372 P
0.5858051481511746 P
0.607203769979479 P
0.5301921887700064 P
0.5315284284771811 P
0.6198027097382685 P
0.48768023886618067 P
0.6660194179481606 P
0.6658721394565669 P
0.665686599246993 P
0.6777193621103147 P
0.5893181306259325 P
0.5783587738122471 P
0.6501396644026574 P
0.6066789257480375 P
0.6175006061972705 P
0.6353202689211745 P
0.6158098167884126 P
0.5426258604201497 P
0.3410371678588633 N
0.5321624751845511 P
0.5882468287025799 P
0.5079318119019793 P
0.4679234450413545 P
0.46515850799581715 P
0.6025765486891453 P
0.5161891214372714 P
0.5597849009328618 P
0.5416669624328183 P
0.5570147383017197 P
0.5716405954423626 P
0.574878824532443 P
0.6172236689729936 P
0.5990323370252547 P
0.5704842525571528 P
0.560645489420747 P
0.5710674313406517 P
0.5971997539131556 P
0.5497391085085056 P
0.58797472798566 P
0.6106652703140735 P
0.5692428031924023 P
0.5721526835123989 P
0.5496577545068145 P
0.5884118707182195 P
0.5813323447157323 P
0.5802880148963988 P
0.5921658733262788 P
0.6232066522194469 P
0.6086843989227686 P
0.6807991160575592 P
0.7007637471714702 P
0.667480495137064 P
0.6447205093201275 P
0.5759668770243367 P
0.543378057015774 P
0.5333709766331282 P
0.528895918487539 P
0.5917304321497202 P
0.6036328599144457 P
0.6134164590869313 P
0.5459009123896839 P
0.45930621822824275 P
0.6148649719547973 P
0.49919279414098533 P
0.5338686210263089 P
0.4783712407713753 P
0.6881122923223775 P
0.4601344049578741 P
0.577546216746416 P
0.5697735354876022 P
0.5318149327450262 P
0.5019134916108542 P
0.5415319165745722 P
0.6238432401697124 P
0.5697799839921672 P
0.5941104649316917 P
0.5994866348128389 P
0.6272038172490243 P
0.6316324427266796 P
0.6070218797279026 P
0.5983335070405854 P
0.6001469764518184 P
0.5858044871259814 P
0.5618545936862426 P
0.5164831955545618 P
0.501791309350775 P
0.5380828170086346 P
0.6028433279007714 P
0.5751027909146172 P
0.5502195320996977 P
0.5463352914470598 P
0.5825737633100312 P
0.5767123958542157 P
0.5752724328203945 P
0.5260725641537066 P
0.46865298028575175 P
0.5792026445922078 P
0.5734456470382596 P
0.5285014597041696 P
0.5283666890759127 P
0.5119338120711424 P
0.5762178273311874 P
0.5833593044201796 P
0.579345712741759 P
0.6012747203743719 P
0.6422036566873248 P
0.5453588492553367 P
0.5625101626097554 P
0.5325861677892908 P
0.569454884370246 P
0.5812487124481296 P
0.6065245936829068 P
0.619437610391223 P
0.6530696972572306 P
0.6166212636729805 P
0.6072546941009995 P
0.6936905423651294 P
0.6872224004193495 P
0.6811349361714956 P
0.683885599496732 P
0.6642168622430952 P
0.6661022410886213 P
0.5913960955673443 P
0.5912920079952613 P
0.5249984714343963 P
0.5196792246350637 N
0.5757707285791334 P
0.5677643847169814 N
0.49107265367061603 P
0.6051170568865641 P
0.583637312775118 P
0.6316448555629349 P
0.5153514983634345 P
0.45109017772745286 P
0.3991451922616114 P
0.5631636476415547 P
0.4937455227475487 P
0.6539961149505185 P
0.5971610083222869 P
0.5755095068060926 P
0.5793275337550847 P
0.5430456451614558 N
0.5218368458341185 N
0.4445453729245566 N
0.5249755370277158 N
0.5814326722140539 N
0.5608325154542236 N
0.5699648312125879 N
0.5187547905209307 N
0.4565698617868712 N
0.5239320834312859 P
0.6678680479647836 P
0.5668192790641255 P
0.48045102529109857 N
0.6057770880076859 P
0.6951127441507847 P
0.7005446812066219 P
0.6655529882242788 P
0.6324078477508429 P
0.5602508975231554 N
0.5431733226758043 N
0.4860001223543647 N
0.5139519108822549 P
0.6480718609741346 P
0.5889858874897258 P
0.48467829670276164 N
0.5690805699027155 P
0.5454397701680281 P
0.5064185892603066 N
0.6800010549709525 P
0.601157780845743 P
0.5555155410343977 P
0.44622622615161656 N
0.6029626504624617 P
0.5427834787007864 P
0.48611814082939425 N
0.6277786037004248 P
0.5429998950329501 P
0.4844706858885479 N
0.6810992199494106 P
0.5735288867936146 P
0.5554137484107275 P
0.41228316888993155 N
0.598405671070577 P
0.0 P
0.552184294850177 P
0.5922591954845963 P
0.5054370550366084 P
0.5876096376768664 P
0.5729639997081959 P
0.5145480742259224 P
0.5198144854838272 P
0.5569259713757462 P
0.558905106343657 P
0.5431854511911824 P
0.5375347820152331 P
0.5775845229850749 P
0.5935216709997726 P
0.5758945923959614 P
0.5381115136626383 P
0.4871843682479953 P
0.6180358715663435 P
0.5859292990811281 P
0.5877103585471346 P
0.5730505625931979 P
0.5060497566244428 P
0.5763119801531719 P
0.4004817855897302 N
0.4034576772940507 N
0.399700554103648 N
0.6244823038837402 P
0.604163924369053 P
0.5628524919083442 P
0.5991716671271446 P
0.6101677350241784 P
0.6760487639486688 P
0.6042854931070242 P
0.5941467375564351 P
0.5552162483785823 P
0.5775877175225941 P
0.5844938963056436 P
0.5725748200855708 P
0.5366839572368719 P
0.46545102226362567 N
0.6043120185689914 P
0.5529224424047338 P
0.5043969904772916 N
0.625171541004891 P
0.5582137393676414 P
0.5763063546678918 P
0.5520310004495376 P
0.5010959844450533 N
0.6177305781164787 P
0.5723527657888727 P
0.595534966846113 P
0.6055660552555888 P
0.5401341264099159 P
0.5292569511590675 P
0.5060869535733012 P
0.5959362067743901 P
0.552993394101032 P
0.5154555242147353 P
0.4717422520727812 P
0.49745316617301605 P
0.4676172401968506 P
0.46001974509765986 P
0.5097135058393806 P
0.5436399145880337 P
0.5410456810899501 P
0.5481967900210513 P
0.6172685189976536 P
0.567199821983842 P
0.5142662151516574 P
0.5604305421027219 P
0.6915149592986825 P
0.5364610705039181 P
0.6313615997673856 P
0.5549868582220142 P
0.5067471741588446 P
0.6862496097010151 P
0.5868734871909075 P
0.5909012226853215 P
0.5963487554759639 P
0.5213166044947328 P
0.649182474709372 P
0.6668446912065539 P
0.5370812741572369 P
0.680058447084455 P
0.6124732143425817 P
0.4915711721573112 P
0.5709685974483447 P
0.6137522267814948 P
0.6777967347945235 P
0.5175405820554174 P
0.3698397368336783 P"""

with open(analFolder + "fpDetails.txt", "r") as f:
    rawData = [tuple([float(x) for x in row[:-1].split(";")]) for row in f.readlines()]

data = list(itertools.chain(*[
    [
        {"id": i + 1, "actual": sqrt(d[0]), "category": "current"},
        {"id": i + 1, "actual": sqrt(d[2]), "category": "best"}, 
    ][:1 if d[0] == d[2] else 2] for (i,d) in enumerate(rawData)
]))

# data = [{"id": i + 1, "actual": float(row.split(" ")[0]), "category": row.split(" ")[1] }  for (i,row) in enumerate(xxx.split("\n"))]

fig = px.scatter(data, x="id", y="actual", color="category")
fig.add_hline(y=0.8)
fig.show()